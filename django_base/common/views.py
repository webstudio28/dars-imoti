from django.http import Http404
from django.shortcuts import render
from django.views.generic import TemplateView

NEWS_DATA = {
    'nay-dobrite-kvartali-za-zhiveene-v-plovdiv': {
        'article_image': 'nai-dobri-kvartali',
        'title': 'Най-добрите квартали за живеене в Пловдив: Предимства и особености на всяка зона',
        'introduction': 'Пловдив е вторият по големина град в България и един от най-приятните за живот. Но изборът на квартал може да се окаже решаващ – не само за удобството на ежедневието ви, но и за стойността на инвестицията в дългосрочен план. В тази статия разглеждаме най-популярните квартали в Пловдив и техните предимства.',
        'subtitle1': 'Център и Капана – градски живот с исторически чар',
        'subcontent1': (
            'Тези квартали са идеални за хора, които ценят динамиката, културните събития и близостта до всичко. '
            'Сградите са смес от старо строителство и модерни реновирани кооперации, които придават уникален характер на района. '
            'Районът е подходящ както за живеене, така и за краткосрочно отдаване под наем чрез платформи като Airbnb, благодарение на туристическия интерес и оживената градска среда. '
            'Капана предлага богата културна сцена с множество арт събития, галерии и уютни кафенета, което го прави предпочитан както от млади, така и от творчески личности. '
            'Центърът пък е сърцето на града, където може да се насладите на историческата архитектура, разнообразие от магазини, ресторанти и лесен достъп до транспорт.'
        ),
        'subtitle2': 'Тракия – модерна градска среда с много зелени площи',
        'subcontent2': (
            'Тракия се утвърди като един от най-предпочитаните райони за млади семейства и хора, търсещи съвременно строителство. '
            'Улиците са широки и добре поддържани, с множество детски площадки и паркове, които осигуряват здравословна и спокойна среда за отдих и игри. '
            'Районът разполага с големи търговски центрове, които предлагат удобства като супермаркети, аптеки и заведения, което улеснява ежедневието на жителите. '
            'Освен това, Тракия е добре свързан с останалата част на града чрез градски транспорт, което прави придвижването бързо и лесно. '
            'Бързото развитие и инвестициите в инфраструктура създават отлични възможности за покупка на имоти с перспективи за повишаване на стойността им в бъдеще.'
        ),
        'subtitle3': 'Кючук Париж и Смирненски – балансирано съчетание на удобство и цена',
        'subcontent3': (
            'Кючук Париж предлага богато разнообразие от апартаменти под наем и за продажба, като се отличава с добра инфраструктура и сравнително достъпни условия. '
            'Районът е предпочитан заради наличието на училища, детски градини и медицински услуги, което го прави подходящ за семейства с деца. '
            'Смирненски пък е популярен сред хора, работещи в близките болници и университети, тъй като осигурява удобен достъп до работните места и предлага спокойна жилищна среда с ново строителство. '
            'Освен това, районът предлага разнообразни възможности за спорт и отдих, което допринася за по-добро качество на живот. '
            'Балансът между удобство, инфраструктура и цена прави тези квартали привлекателен избор както за живеене, така и за инвестиция.'
        ),
    },
    'kak-da-izberem-idealniya-imot-v-plovdiv': {
        'article_image': 'kak-da-izberem',
        'title': 'Как да изберем идеалния имот в Пловдив: Практични съвети за купувачи и наематели',
        'introduction': 'Изборът на подходящ имот в Пловдив не е просто въпрос на бюджет – това е стратегическо решение, което обвързва семейството или инвеститора с определено място и начин на живот за години напред. Все повече хора осъзнават нуждата от консултация със специалисти и детайлна проверка на пазара преди да пристъпят към сделка.',
        'subtitle1': 'Определяне на приоритетите',
        'subcontent1': (
            'Първата и най-важна стъпка е да се определи целта на покупката или наема – дали търсите жилище за живеене, имот с инвестиционна цел или временно решение. '
            'В зависимост от това ще варира и изборът на квартал, тип на имота и допълнителните изисквания като гараж, асансьор, тераса или близост до определени институции. '
            'Важно е да се обмислят и бъдещите нужди, например дали планирате да разширите семейството или искате имот, който лесно да се отдава под наем. '
            'Добре е да съставите списък с критерии и да го използвате като ориентир при огледите, за да не пропуснете важни детайли. '
            'Тази стъпка улеснява целия процес и помага да се избегнат импулсивни решения, които могат да се окажат неподходящи в дългосрочен план.'
        ),
        'subtitle2': 'Значението на локацията',
        'subcontent2': (
            'В Пловдив всеки квартал има своята уникална атмосфера и профил – Центърът е предпочитан заради активния начин на живот, Кючук Париж предлага достъпни и добре свързани райони, докато Тракия и Смирненски се развиват с ново строителство и удобства за семейства. '
            'Изборът на локация трябва да бъде съобразен не само със сегашните ви нужди, но и с бъдещото развитие на района, което може да повлияе на стойността на имота. '
            'Важно е да проверите наличието на ключови инфраструктурни обекти като училища, детски градини, болници, магазини и транспортни връзки. '
            'Също така, околната среда и безопасността на квартала са от съществено значение за качеството на живот. '
            'Добре подбраната локация може да улесни ежедневието ви, да намали разходите за транспорт и да осигури по-добра социална среда.'
        ),
        'subtitle3': 'Ролята на професионалния брокер',
        'subcontent3': (
            'Професионалният брокер не просто показва имоти – той ви спестява време, нерви и често пъти – пари. '
            'Добрата агенция за недвижими имоти в Пловдив ще ви насочи към адекватни предложения, ще осигури юридическа защита и ще ви съдейства в целия процес – от огледите до подписване на договора и нотариалното прехвърляне. '
            'Опитният брокер разполага с информация за пазара, актуални цени и тенденции, което е особено полезно при преговорите за покупка или наем. '
            'Той може да ви помогне да избегнете рискове и да разберете всички правни и финансови аспекти, свързани с имотната сделка. '
            'Освен това, брокерът може да предложи допълнителни услуги, като съдействие за кредитиране и оценка на имота.'
        ),
    },
    'pazarat-na-nedvizhimi-imoti-v-plovdiv-prez-2025': {
        'article_image': 'pazarut-nedvijimi-imoti',
        'title': 'Пазарът на недвижими имоти в Пловдив през 2025 г. Тенденции, интерес и прогнози',
        'introduction': 'Пловдив се наложи като едно от най-динамичните места за покупка и продажба на недвижими имоти в България. Със своята културна стойност, стратегическо местоположение и развита инфраструктура, градът привлича както млади семейства, така и инвеститори от цялата страна. През 2025 г. пазарът на имоти в Пловдив демонстрира устойчив ръст, воден от засиленото търсене на жилища в градски и полуградски зони.',
        'subtitle1': 'Райони с най-голям интерес',
        'subcontent1': (
            'Сред най-предпочитаните квартали се открояват Тракия, Смирненски, Кършияка и Централната градска част. '
            'Те предлагат добре изградена инфраструктура, близост до училища, детски градини, магазини и лесен достъп до градски транспорт, което ги прави удобни за живеене и семейства, и инвеститори. '
            'Все по-често купувачите търсят имоти не само според квадратура, но и според качеството на живот, което съответният квартал предлага – тишина, зеленина, спортни и културни активности. '
            'Районите с ново строителство също се радват на висок интерес поради модерния си облик, енергийната ефективност на сградите и съвременните технологии, които гарантират ниски разходи за поддръжка. '
            'Това прави тези квартали привлекателни както за дългосрочно живеене, така и за отдаване под наем.'
        ),
        'subtitle2': 'Ключови фактори за търсене',
        'subcontent2': (
            'Сред водещите фактори, които влияят върху покупателското поведение на хората, са близостта до работното място, възможността за паркиране, както и наличието на зелени площи и възможности за отдих. '
            'Освен това, все по-важно за купувачите става качеството на строителството, като предпочитание се дава на имоти от утвърдени строителни фирми с доказан опит и добро име на пазара. '
            'Удобствата като асансьор, паркоместа, контрол на достъпа и енергийна ефективност също са ключови при избора на имот. '
            'Много купувачи оценяват и наличието на търговски обекти, спортни съоръжения и добрата комуникация с центъра на града. '
            'Тези фактори съчетават комфорт и функционалност, което ги прави решаващи при финалното решение за покупка.'
        ),
        'subtitle3': 'Прогнози за развитието на пазара',
        'subcontent3': (
            'Очакванията са интересът към имоти в Пловдив да остане стабилен и през следващите няколко години. '
            'Основните двигатели на пазара ще бъдат наемният сектор, инвестициите в ново строителство и миграцията на млади семейства от по-малки населени места към града. '
            'Технологиите в строителството, дигитализацията на брокерските услуги и високата конкуренция между агенциите ще направят имотния пазар в Пловдив още по-динамичен и достъпен. '
            'Развитието на инфраструктурата и проектите за обновяване на градската среда също ще допринесат за повишаване на интереса и стойността на имотите. '
            'Прогнозира се засилване на инвестиционния интерес, особено в райони с потенциал за бъдещо разрастване и модернизация.'
        ),
    },
}



class HomeView(TemplateView):
    template_name = 'common/home/home.html'

    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        # Sort NEWS_DATA by date (descending) and take the latest 2
        sorted_news = sorted(
            NEWS_DATA.items(),
            reverse=True
        )[:2]
        context['all_news'] = dict(sorted_news)
        return context


class AboutView(TemplateView):
    template_name = 'common/about/about.html'


class PricingView(TemplateView):
    template_name = 'common/pricing/pricing.html'


class ContactsView(TemplateView):
    template_name = 'common/contacts/contacts.html'


class MessageSentSuccessfullyView(TemplateView):
    template_name = 'common/contacts/message-sent.html'


class FaqView(TemplateView):
    template_name = 'common/faq/faq.html'


class NewsView(TemplateView):
    template_name = 'common/news/news.html'

    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context['all_news'] = NEWS_DATA
        return context


class NewsDetailView(TemplateView):
    template_name = 'common/news/news_detail.html'

    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        slug = self.kwargs['slug']
        if slug not in NEWS_DATA:
            raise Http404("News not found")
        context['news'] = NEWS_DATA[slug]
        return context


class CookiesPolicy(TemplateView):
    template_name = 'cookies/cookies-policy.html'

class MessageSent(TemplateView):
    template_name = 'messages/message-sent.html'